<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The Blink Point of View | blinkpov</title>

  <style>
    :root{
      --bg: #2b2b2b;      /* dark grey load screen */
      --lid: #111111;     /* eyelid color */
      --title: #f2f2f2;
      --shadow: rgba(0,0,0,0.55);
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; margin: 0; }
    body {
      background: var(--bg);
      overflow: hidden;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: var(--title);
    }

    /* Fullscreen stage */
    .stage {
      position: relative;
      height: 100vh;
      width: 100vw;
      background: var(--bg);
    }

    /* The image (starts hidden so initial load is all dark grey) */
    #scene {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      opacity: 0;
      transition: opacity 500ms ease;
      filter: saturate(1.05) contrast(1.05);
    }
    #scene.visible { opacity: 1; }

    /* Subtle overlay so text stays readable */
    .overlay {
      position: absolute;
      inset: 0;
      background: radial-gradient(transparent 40%, rgba(0,0,0,0.35) 100%);
      pointer-events: none;
    }

    /* Top title bar */
    header {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      padding: 22px 22px 16px;
      z-index: 5;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;

      /* readability */
      background: linear-gradient(to bottom, var(--shadow), rgba(0,0,0,0));
      backdrop-filter: blur(2px);
    }

    h1 {
      margin: 0;
      font-weight: 800;
      letter-spacing: 0.5px;
      font-size: clamp(22px, 3vw, 34px);
      text-transform: none;
    }

    /* Eyelids: top and bottom panels that slide to the center */
    .lid {
      position: absolute;
      left: 0;
      width: 100%;
      height: 52%;
      background: var(--lid);
      z-index: 10;
      transform: translateY(-110%);
      transition: transform 320ms cubic-bezier(.2,.8,.2,1);
      pointer-events: none;
    }
    .lid.bottom {
      bottom: 0;
      top: auto;
      transform: translateY(110%);
    }

    /* When blinking, lids close */
    .blinking .lid.top { transform: translateY(0%); }
    .blinking .lid.bottom { transform: translateY(0%); }

    /* Optional: tiny “eye vignette” feel */
    .vignette {
      position: absolute;
      inset: -10%;
      z-index: 4;
      pointer-events: none;
      background: radial-gradient(circle at center, rgba(0,0,0,0) 55%, rgba(0,0,0,0.45) 80%, rgba(0,0,0,0.8) 100%);
      opacity: 0.55;
      mix-blend-mode: multiply;
    }

    /* Reduced motion accessibility */
    @media (prefers-reduced-motion: reduce) {
      #scene { transition: none; }
      .lid { transition: none; }
    }
  </style>
</head>

<body>
  <div class="stage" id="stage">
    <img id="scene" alt="Photography showcase image" />
    <div class="overlay"></div>
    <div class="vignette"></div>

    <header>
      <h1>The Blink Point of View</h1>
    </header>

    <div class="lid top"></div>
    <div class="lid bottom"></div>
  </div>

  <script>
    // 1) Put your images here (relative paths or full URLs).
    // Example: "images/photo1.jpg"
    const IMAGES = [
      "images/photo1.jpg",
      "images/photo2.jpg",
      "images/photo3.jpg",
      "images/photo4.jpg"
    ];

    // Timing controls (tweak these to taste)
    const INITIAL_DARK_MS = 900;     // how long the first dark-grey screen sits
    const HOLD_OPEN_MS   = 4500;    // time you "stare" at a photo before next blink
    const CLOSE_MS       = 320;     // eyelids closing duration (matches CSS transition)
    const CLOSED_HOLD_MS = 180;     // eyelids fully closed moment (swap happens here)
    const OPEN_MS        = 320;     // eyelids opening duration (same as CSS transition)

    const stage = document.getElementById("stage");
    const img = document.getElementById("scene");

    let index = 0;

    // Preload images for smooth swaps
    function preload(list) {
      list.forEach(src => {
        const i = new Image();
        i.src = src;
      });
    }
    preload(IMAGES);

    function setImage(i) {
      img.src = IMAGES[i % IMAGES.length];
    }

    function sleep(ms) {
      return new Promise(res => setTimeout(res, ms));
    }

    async function blinkAndSwap() {
      // Close
      stage.classList.add("blinking");
      await sleep(CLOSE_MS);

      // While fully closed: swap image
      await sleep(CLOSED_HOLD_MS);
      index = (index + 1) % IMAGES.length;
      setImage(index);

      // Open
      await sleep(0);
      stage.classList.remove("blinking");
      await sleep(OPEN_MS);
    }

    async function start() {
      // Start on dark grey screen, title visible
      await sleep(INITIAL_DARK_MS);

      // First "eyes open" to first image
      setImage(index);
      // Wait a tick so the browser applies src before fading in
      await sleep(50);
      img.classList.add("visible");

      // Loop
      while (true) {
        await sleep(HOLD_OPEN_MS);
        await blinkAndSwap();
      }
    }

    // If images list is empty, stay dark-grey
    if (IMAGES.length > 0) start();
  </script>
</body>
</html>

